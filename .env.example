# Trek Tribe Root Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Node Environment
NODE_ENV=development

# API Configuration
API_PORT=4000
PORT=4000

# Web Configuration
WEB_PORT=3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Configuration for Docker
MONGODB_URI=mongodb://mongo:27017/trekktribe

# MongoDB Configuration for local development (when not using Docker)
MONGODB_URI_LOCAL=mongodb://127.0.0.1:27017/trekktribe

# MongoDB Atlas Configuration for production
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/trekktribe?retryWrites=true&w=majority

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Secret - CRITICAL: Generate a secure random secret for production!
# You can generate one using: openssl rand -hex 32
# Or online: https://generate-secret.vercel.app/32
JWT_SECRET=your_super_secure_jwt_secret_key_change_this_in_production_min_32_chars

# JWT Expiration (default: 7 days)
JWT_EXPIRES_IN=7d

# Password Reset Token Expiration (in milliseconds - default: 1 hour)
RESET_TOKEN_EXPIRES=3600000

# =============================================================================
# CORS & SECURITY SETTINGS
# =============================================================================

# Allowed Origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# Frontend URL for CORS and email links
FRONTEND_URL=http://localhost:3000

# CORS Origin (for production)
# CORS_ORIGIN=https://your-frontend-domain.vercel.app

# =============================================================================
# EMAIL SERVICE CONFIGURATION
# =============================================================================

# Gmail SMTP Configuration
# To set up Gmail SMTP:
# 1. Enable 2-factor authentication on your Gmail account
# 2. Generate an App Password: https://support.google.com/accounts/answer/185833
# 3. Use your Gmail address as GMAIL_USER
# 4. Use the generated App Password (16 characters) as GMAIL_APP_PASSWORD
GMAIL_USER=your-email@gmail.com
GMAIL_APP_PASSWORD=your-16-character-app-password

# Alternative: Generic SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-password

# Email Service Status
EMAIL_ENABLED=true

# =============================================================================
# WHATSAPP INTEGRATION
# =============================================================================

# WhatsApp Web.js Configuration
# No API keys needed - uses QR code authentication
WHATSAPP_ENABLED=true

# Default country code for phone number formatting (without +)
DEFAULT_COUNTRY_CODE=91

# WhatsApp Session Name
WHATSAPP_SESSION_NAME=trek-tribe-bot

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================

# Maximum file size for uploads (in bytes - default: 10MB)
MAX_FILE_SIZE=10485760

# Upload directory (relative to API root)
UPLOAD_DIR=uploads

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (0=ERROR, 1=WARN, 2=INFO, 3=DEBUG)
LOG_LEVEL=2

# Log Directory
LOG_DIR=logs

# Log Retention (days)
LOG_RETENTION_DAYS=30

# =============================================================================
# RATE LIMITING & PERFORMANCE
# =============================================================================

# Rate limiting (requests per minute per IP)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# =============================================================================
# DEPLOYMENT SPECIFIC SETTINGS
# =============================================================================

# Render Configuration
# PORT is automatically set by Render (usually 10000)
# Uncomment and set these for Render deployment:
# FRONTEND_URL=https://trek-tribe-web.onrender.com
# CORS_ORIGIN=https://trek-tribe-web.onrender.com
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/trekktribe

# Vercel Configuration  
# Uncomment for Vercel deployment:
# FRONTEND_URL=https://your-app.vercel.app
# CORS_ORIGIN=https://your-app.vercel.app

# Railway Configuration
# Uncomment for Railway deployment:
# FRONTEND_URL=https://your-app.railway.app
# CORS_ORIGIN=https://your-app.railway.app

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Enable detailed error messages in development
DEBUG_MODE=true

# Generate source maps for debugging
GENERATE_SOURCEMAP=true

# Mock external services in development
MOCK_EXTERNAL_SERVICES=false
